 <div class="page-content">
        <div class="container-fluid">
            <div class="row">
                <div class="col-xl-12">
                    <div class="card">
                        <div class="col-sm-12 text-right pt-4  pb-2">
                            <a href="/add-invoice" class="btn btn-primary-outline "><i class="las la-plus me-1"></i>
                                Add
                                Invoices</a>
                        </div>
                        <div class="card-body">
                            <div class="table-responsive table-card">
                                <table class="table table-hover table-nowrap invoice-table align-middle mb-0">
                                    <thead>

                                        <tr class="text-muted text-uppercase">
                                            <th></th>
                                            <th scope="col">Date</th>
                                            <th scope="col">Invoice</th>
                                            <th scope="col">Billed To</th>
                                            <th scope="col" style="width: 20%;">Email</th>
                                            <th scope="col">Amount</th>
                                            <th scope="col" style="width: 16%;">Status</th>
                                            <th scope="col" style="width: 12%;">Actions</th>
                                        </tr>
                                    </thead>

                                    <tbody>
                                        <tr
                                            *ngFor="let details of invoices | paginate: { itemsPerPage: itemsPerPage, currentPage: currentPage, id: 'invoice', totalItems: totalItems  } let i = index">
                                          
                                          <td><input type="checkbox"></td>  <td data-label="Date"> {{details?.date| date: 'dd-MM-yyyy'}}</td>
                                            <td data-label="Invoice ID">
                                                <p class="fw-medium mb-0">{{details.invoiceNo}}</p>
                                            </td>
                                            <td data-label="Client">
                                                <a
                                                    class="text-body align-middle fw-medium">{{details?.client?.name}}</a>
                                            </td>
                                            <td data-label="Email">
                                                {{details?.client?.email}}
                                            </td>
                                            <td data-label="Billed">
                                                {{ details?.totalamount !== 0 ? details?.totalamount :
                                                details?.subtotalofamount }}
                                            </td>
                                            <td> <span
                                                    class="badge badge-pill badge-primary status">{{details?.status}}</span>
                                            </td>
                                            <td data-label="Action" class="action-items">
                                                <ul class="list-inline hstack  mb-0">
                                                    <li>
                                                    <a 
                                                        [style.pointer-events]="details.status === 'CANCELLED' || details.status === 'PAID' ? 'none' : 'auto'"
                                                        data-bs-trigger="hover" data-bs-placement="top"
                                                        title="Mark as Paid" class="btn" style="padding: 2px 3px;">
                                                        <!-- <app-svg svg="paid-icon"   (OnSVGClick)="updateStatus(details, status.PAID)"
                                                        className="paid-icon" [height]="2" [width]="15"></app-svg> -->
                                                        
                                                        <!-- <svg   width="24" height="24" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                            <path  d="M8.125 1.25C6.30164 1.25 4.55295 1.97433 3.26364 3.26364C1.97433 4.55295 1.25 6.30164 1.25 8.125C1.25 9.94836 1.97433 11.697 3.26364 12.9864C4.55295 14.2757 6.30164 15 8.125 15C8.75934 15.0026 9.39077 14.9142 10 14.7375V14.6875C10 13.4443 10.4939 12.252 11.3729 11.3729C12.252 10.4939 13.4443 10 14.6875 10H14.7375C14.9142 9.39077 15.0026 8.75934 15 8.125C14.9988 6.30199 14.2741 4.55398 12.9851 3.26492C11.696 1.97586 9.94801 1.25116 8.125 1.25ZM8.125 7.5C8.56677 7.49916 8.99457 7.6547 9.33265 7.93906C9.67073 8.22342 9.89726 8.61826 9.97212 9.05364C10.047 9.48902 9.96533 9.93684 9.74165 10.3178C9.51797 10.6987 9.16668 10.9882 8.75 11.135V11.4581C8.75 11.6239 8.68415 11.7829 8.56694 11.9001C8.44973 12.0173 8.29076 12.0831 8.125 12.0831C7.95924 12.0831 7.80027 12.0173 7.68306 11.9001C7.56585 11.7829 7.5 11.6239 7.5 11.4581V11.135C7.13568 11.0062 6.82006 10.768 6.5963 10.4529C6.37255 10.1379 6.2516 9.76141 6.25 9.375C6.25 9.20924 6.31585 9.05027 6.43306 8.93306C6.55027 8.81585 6.70924 8.75 6.875 8.75C7.04076 8.75 7.19973 8.81585 7.31694 8.93306C7.43415 9.05027 7.5 9.20924 7.5 9.375C7.5 9.49861 7.53666 9.61945 7.60533 9.72223C7.67401 9.82501 7.77162 9.90512 7.88582 9.95242C8.00003 9.99973 8.12569 10.0121 8.24693 9.98799C8.36817 9.96388 8.47953 9.90435 8.56694 9.81694C8.65435 9.72953 8.71388 9.61817 8.73799 9.49693C8.76211 9.37569 8.74973 9.25003 8.70242 9.13582C8.65512 9.02162 8.57501 8.92401 8.47223 8.85533C8.36945 8.78666 8.24861 8.75 8.125 8.75C7.68323 8.75084 7.25543 8.5953 6.91735 8.31094C6.57927 8.02658 6.35274 7.63174 6.27788 7.19636C6.20302 6.76098 6.28467 6.31316 6.50835 5.93221C6.73203 5.55126 7.08332 5.26176 7.5 5.115V4.79187C7.5 4.62611 7.56585 4.46714 7.68306 4.34993C7.80027 4.23272 7.95924 4.16687 8.125 4.16687C8.29076 4.16687 8.44973 4.23272 8.56694 4.34993C8.68415 4.46714 8.75 4.62611 8.75 4.79187V5.115C9.11432 5.2438 9.42994 5.48202 9.6537 5.79706C9.87745 6.11211 9.9984 6.48859 10 6.875C10 7.04076 9.93415 7.19973 9.81694 7.31694C9.69973 7.43415 9.54076 7.5 9.375 7.5C9.20924 7.5 9.05027 7.43415 8.93306 7.31694C8.81585 7.19973 8.75 7.04076 8.75 6.875C8.75 6.75139 8.71334 6.63055 8.64467 6.52777C8.57599 6.42499 8.47838 6.34488 8.36418 6.29758C8.24997 6.25027 8.12431 6.23789 8.00307 6.26201C7.88183 6.28612 7.77047 6.34565 7.68306 6.43306C7.59565 6.52047 7.53612 6.63183 7.51201 6.75307C7.48789 6.87431 7.50027 6.99997 7.54758 7.11418C7.59488 7.22838 7.67499 7.32599 7.77777 7.39467C7.88055 7.46334 8.00139 7.5 8.125 7.5Z" fill="black"/>
                                                            <path d="M14.6875 10.625C13.884 10.625 13.0986 10.8633 12.4305 11.3097C11.7624 11.756 11.2417 12.3905 10.9342 13.1328C10.6268 13.8752 10.5463 14.692 10.7031 15.4801C10.8598 16.2681 11.2467 16.992 11.8149 17.5601C12.383 18.1283 13.1069 18.5152 13.8949 18.6719C14.683 18.8287 15.4998 18.7482 16.2422 18.4408C16.9845 18.1333 17.619 17.6126 18.0653 16.9445C18.5117 16.2764 18.75 15.491 18.75 14.6875C18.7487 13.6105 18.3202 12.5779 17.5587 11.8163C16.7971 11.0548 15.7645 10.6263 14.6875 10.625ZM16.3794 14.2963L14.7125 15.9631C14.5953 16.0803 14.4364 16.1461 14.2706 16.1461C14.1049 16.1461 13.946 16.0803 13.8288 15.9631L12.9956 15.1294C12.8818 15.0115 12.8188 14.8536 12.8202 14.6897C12.8216 14.5259 12.8874 14.3691 13.0032 14.2532C13.1191 14.1374 13.2759 14.0716 13.4398 14.0702C13.6036 14.0688 13.7615 14.1318 13.8794 14.2456L14.2706 14.6369L15.4956 13.4119C15.5537 13.3538 15.6226 13.3078 15.6985 13.2764C15.7743 13.245 15.8556 13.2289 15.9377 13.2289C16.0198 13.229 16.1011 13.2452 16.1769 13.2766C16.2528 13.308 16.3217 13.3541 16.3797 13.4122C16.4377 13.4703 16.4837 13.5392 16.5151 13.615C16.5465 13.6909 16.5627 13.7722 16.5626 13.8543C16.5626 13.9364 16.5464 14.0177 16.515 14.0935C16.4835 14.1693 16.4374 14.2382 16.3794 14.2963Z" fill="black"/>
                                                            </svg> -->
                                                            <i [ngClass]="{ 'disabled': details.status === 'PAID' || details.status === 'CANCELLED'  }" (click)="updateStatus(details, status.PAID)" class="fa-solid fa-clipboard-check"></i>
                                                    </a>
                                                        <!-- <app-svg svg="paid-icon"   (OnSVGClick)="updateStatus(details, status.PAID)"
                                                        className="paid-icon" [height]="2" [width]="15"></app-svg> -->


                                                        <!-- <svg width="16" height="16" viewBox="0 0 24 24" fill="none"
                                                            xmlns="http://www.w3.org/2000/svg">
                                                            <path
                                                                d="M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z"
                                                                [attr.stroke]="details.status === 'PAID' ? '#A9A9A9' : '#161c26'"
                                                                stroke-linecap="round" stroke-linejoin="round"></path>
                                                            <path d="M8 12L10.6667 15L16 9"
                                                                [attr.stroke]="details.status === 'PAID' ? '#A9A9A9' : '#161c26'"
                                                                stroke-linecap="round" stroke-linejoin="round"></path>
                                                        </svg> -->
                                                  
                                                         </li>   
                                                   

                                                    <!-- <li class="list-inline-item edit" data-bs-toggle="tooltip"
                                                        data-bs-trigger="hover" data-bs-placement="top"
                                                        title="Duplicate">
                                                        <a class="btn btn-soft-info btn-sm d-inline-block" (click)="addDuplicateInvoice(details)">
                                                          <i class="fa-solid fa-copy"></i>
                                                        </a>
                                                    </li> -->
                                                    <li class="list-inline-item edit pl-1 mr-0" data-bs-toggle="tooltip"
                                                        data-bs-trigger="hover" data-bs-placement="top" title="Edit" (click)="updateInvoice(details)">
                                                        <a class="btn btn-soft-info btn-sm d-inline-block"
                                                            [style.pointer-events]="details.status === 'CANCELLED' ? 'none' : 'auto'">
                                                            <i class="fa-solid fa-pen-to-square"></i>
                                                        </a>
                                                    </li>
                                                    <li class="list-inline-item mr-0" data-bs-toggle="tooltip"
                                                        data-bs-trigger="hover" data-bs-placement="top" title="View">
                                                        <a class="btn btn-soft-info btn-sm d-inline-block"
                                                            [routerLink]="['/view-invoice-list', details._id]">
                                                            <i class="fa-solid fa-eye"></i>
                                                        </a>
                                                    </li>
                                                
                                                    <li>
                                                        <div class="list-menu">
                                                            <button type="button" id="dropdownMenuLink1" data-bs-toggle="dropdown" aria-expanded="false"
                                                                class="btn btn-soft-info btn-icon fs-14"><i class="fa-solid fa-ellipsis-vertical"></i></button>
                                                            <ul class="dropdown-menu" aria-labelledby="dropdownMenuLink1">
                                                                <li class="list-inline-item " data-bs-toggle="tooltip"
                                                                data-bs-trigger="hover" data-bs-placement="top" title="Cancel">
                                                                <a class="btn btn-soft-danger btn-sm d-inline-block"
                                                                    (click)="updateStatus(details, status.CANCELLED)"
                                                                    [style.pointer-events]="details.status === 'CANCELLED' ? 'none' : 'auto'">
                                                                   <span>Cancel</span>
                                                                </a>
                                                            </li>
                                                            <li class="list-inline-item" data-bs-toggle="tooltip"
                                                                data-bs-trigger="hover" data-bs-placement="top" title="Remove">
                                                                <a class="btn btn-soft-danger btn-sm d-inline-block"
                                                                    (click)="DeleteInvoice(details)">
                                                                   <span>Delete</span>
                                                                </a>
                                                            </li>
                                                            </ul>
                                                        </div>
                                                    </li>
                                                </ul>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

<router-outlet></router-outlet>
<pagination-controls (pageChange)="onPageChange($event)" id="invoice"> </pagination-controls>